---
import type { ProcessedSection } from "@/types/contentful-v2";
import { ArrowRightIcon } from "@lucide/astro";
import Section from "@/components/Section.astro";
import { documentToHtmlString } from "@contentful/rich-text-html-renderer";
import { decodeHtmlEntities } from "@/lib/utils";
import UseCasesTabs from "@/components/UseCasesTabs";

interface Props {
  section: ProcessedSection;
}

const { section } = Astro.props;
---

<Section title={section.title || ""}>
  <div class="flex justify-between items-center gap-8 mb-8">
    {
      section.headline && (
        <h2 class="text-3xl md:text-4xl font-medium mb-6 max-w-sm">
          {section.headline}
        </h2>
      )
    }

    <div
      class="rounded-full bg-brand-yellow flex items-center justify-center w-8 h-8"
    >
      <ArrowRightIcon class="current-color w-4 h-4 mx-2" />
    </div>

    {
      section.description && (
        <div
          class="max-w-lg font-mono text-sm text-foreground"
          set:html={decodeHtmlEntities(
            decodeHtmlEntities(documentToHtmlString(section.description))
          )}
        />
      )
    }
  </div>

  <div class="my-8">
    {section.items && section.items.length > 0 && (
      <UseCasesTabs useCases={section.items} client:load />
    )}
  </div>
</Section>
